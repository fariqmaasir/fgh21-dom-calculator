<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://fonts.cdnfonts.com/css/sf-pro-display"
      rel="stylesheet"
    />
    <style>
      @import url("https://fonts.cdnfonts.com/css/sf-pro-display");
    </style>
    <style>
      body {
        font-family: "SF Pro Display", sans-serif;
      }
      body > div:first-child {
        background-color: #0a0a0a;
        width: 428px;
        height: 926px;
        display: flex;
        flex-direction: column;
        justify-content: end;
      }
      /* .control {
        padding: 0px 10px;
        display: flex;
        background-color: red;
        justify-content: space-between;
      }
      .control > div:nth-child(2) {
        display: flex;
        gap: 3px;
      } */
      #number {
        text-align: end;
        padding-right: 40px;
      }
      .btn-grey {
        background-color: #a7a7a7;
        color: #0a0a0a;
      }
      .btn-black {
        background-color: #333333;
        color: white;
      }
      .btn-orange {
        background-color: #fda00d;
        color: white;
      }
      .grid-btn {
        display: grid;
        grid-template-columns: auto auto auto auto;
        column-gap: 12px;
        row-gap: 12px;
      }
      .grid-btn > button {
        border: none;
        font-size: 34px;
        width: 88px;
        height: 88px;
        border-radius: 50%;
      }
      .grid-btn .btn-black-bigger {
        text-align: start;
        padding: 0px 35px;
        background-color: #333333;
        color: white;
        width: 100%;
        grid-column: 1 / 3;
        border-radius: 200px;
      }
    </style>
  </head>
  <body>
    <div>
      <!-- <div class="control">
        <div style="color: white">9:46</div>
        <div>
          <div><img src="SIgnal.png" alt="" /></div>
          <div><img src="Wi-Fi.png" alt="" /></div>
          <div><img src="Battery.png" alt="" /></div>
        </div>
      </div> -->
      <div id="number" style="color: white; font-size: 60px">0</div>
      <div class="grid-btn">
        <button type="button" class="btn-grey">AC</button>
        <button type="button" class="btn-grey">⁺/₋</button>
        <button type="button" class="btn-grey">%</button>
        <button type="button" class="btn-orange">÷</button>
        <button type="button" class="btn-black">7</button>
        <button type="button" class="btn-black">8</button>
        <button type="button" class="btn-black">9</button>
        <button type="button" class="btn-orange">×</button>
        <button type="button" class="btn-black">4</button>
        <button type="button" class="btn-black">5</button>
        <button type="button" class="btn-black">6</button>
        <button type="button" class="btn-orange">‒</button>
        <button type="button" class="btn-black">1</button>
        <button type="button" class="btn-black">2</button>
        <button type="button" class="btn-black">3</button>
        <button type="button" class="btn-orange">+</button>
        <button type="button" class="btn-black-bigger">0</button>
        <button type="button" class="btn-black">.</button>
        <button type="button" class="btn-orange">=</button>
      </div>
    </div>
    <script>
      const number = document.getElementById("number");
      const buttons = Array.from(document.getElementsByTagName("button"));
      buttons.forEach((button) => {
        button.addEventListener("click", (event) => {
          // console.log(event.currentTarget.textContent);
          if (event.currentTarget.textContent === ".") {
            if (number.textContent.includes(".") === false) {
              number.textContent += event.currentTarget.textContent;
            }
          } else if (number.textContent === "0") {
            number.textContent = event.currentTarget.textContent;
          } else {
            number.textContent += event.currentTarget.textContent;
          }
          if (event.currentTarget.textContent === "AC") {
            number.textContent = 0;
          }
          if (event.currentTarget.textContent === "⁺/₋") {
            if (number.textContent === "⁺/₋") {
              number.textContent = 0;
            } else if (number.textContent.includes("+")) {
              const num = number.textContent
                .slice(0, -1)
                .slice(0, -2)
                .split("+");
              const numExcLast = parseInt(num.slice(0, -1));
              console.log("ini adalah numexc ", numExcLast);
              console.log(num);
              let nums = 0;
              num.forEach(function (last, index, array) {
                if (index === array.length - 1) {
                  nums = last;
                }
              });
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              const result = numExcLast + "+" + checkNumber(nums);
              console.log("ini adalah result ", result);
              // number.textContent = checkNumber(numExcLast);
              number.textContent = result;
            } else if (number.textContent.includes("‒")) {
              const num = number.textContent
                .slice(0, -1)
                .slice(0, -2)
                .split("‒");
              const numExcLast = parseInt(num.slice(0, -1));
              console.log(numExcLast);
              console.log(num);
              let nums = 0;
              num.forEach(function (last, index, array) {
                if (index === array.length - 1) {
                  nums = last;
                }
              });
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              const result = numExcLast + "‒" + checkNumber(nums);
              console.log(result);
              // number.textContent = checkNumber(numExcLast);
              number.textContent = result;
            } else if (number.textContent.includes("×")) {
              const num = number.textContent
                .slice(0, -1)
                .slice(0, -2)
                .split("×");
              const numExcLast = parseInt(num.slice(0, -1));
              console.log(numExcLast);
              console.log(num);
              let nums = 0;
              num.forEach(function (last, index, array) {
                if (index === array.length - 1) {
                  nums = last;
                }
              });
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              const result = numExcLast + "×" + checkNumber(nums);
              console.log(result);
              // number.textContent = checkNumber(numExcLast);
              number.textContent = result;
            } else if (number.textContent.includes("+")) {
              const num = number.textContent
                .slice(0, -1)
                .slice(0, -2)
                .split("+");
              const numExcLast = parseInt(num.slice(0, -1));
              console.log(numExcLast);
              console.log(num);
              let nums = 0;
              num.forEach(function (last, index, array) {
                if (index === array.length - 1) {
                  nums = last;
                }
              });
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              const result = numExcLast + "+" + checkNumber(nums);
              console.log(result);
              // number.textContent = checkNumber(numExcLast);
              number.textContent = result;
            } else if (number.textContent.includes("+")) {
              const num = number.textContent
                .slice(0, -1)
                .slice(0, -2)
                .split("+");
              const numExcLast = parseInt(num.slice(0, -1));

              console.log(numExcLast);
              console.log(num);
              let nums = 0;
              num.forEach(function (last, index, array) {
                if (index === array.length - 1) {
                  nums = last;
                }
              });
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              const result = numExcLast + "+" + checkNumber(nums);
              console.log(result);
              // number.textContent = checkNumber(numExcLast);
              number.textContent = result;
            } else {
              const num = number.textContent.slice(0, -1).slice(0, -2);
              function checkNumber(a) {
                if (a < 0) {
                  return (a = a * -1);
                }
                if (a > 0) {
                  return (a = a * -1);
                }
              }
              number.textContent = checkNumber(num);
            }
          }
          //----------ENTER BUTTON-------------
          if (event.currentTarget.textContent === "=") {
            if (number.textContent.includes("+")) {
              const num = number.textContent.slice(0, -1).split("+");
              // console.log(number.textContent.slice(0, -1).split("+"));
              const calc = num.map(Number);
              console.log(calc);
              let result = 0;
              calc.forEach((item) => {
                result += item;
              });
              number.textContent = result;
            }
            if (number.textContent.includes("%")) {
              console.log(number.textContent);
              const num = number.textContent.slice(0, -1).slice(0, -1);
              console.log(num);
              let calc = 0;
              if (num.includes(0)) {
                calc = parseFloat(num);
                result = calc / 100;
                number.textContent = result;
              } else {
                const calc = parseInt(num);
                result = calc / 100;
                number.textContent = result;
              }
            }
            if (number.textContent.includes("‒")) {
              const num = number.textContent.slice(0, -1).split("‒");
              const calc = num.map(Number);
              function myFunc(total, num) {
                return total - num;
              }
              number.textContent = calc.reduce(myFunc);
            }
            if (number.textContent.includes("×")) {
              const num = number.textContent.slice(0, -1).split("×");
              console.log(num);
              const calc = num.map(Number);
              console.log(calc);
              function myFunc(total, num) {
                return total * num;
              }
              number.textContent = calc.reduce(myFunc);
              console.log(calc.reduce(myFunc));
            }
            if (number.textContent.includes("÷")) {
              const num = number.textContent.slice(0, -1).split("÷");
              console.log(num);
              const calc = num.map(Number);
              console.log(calc);
              function myFunc(total, num) {
                return total / num;
              }
              number.textContent = calc.reduce(myFunc);
              console.log(calc.reduce(myFunc));
            }
          }
        });
      });
    </script>
  </body>
</html>
